<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„èª²è¡¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .schedule-cell {
            min-height: 80px;
            transition: all 0.2s ease;
        }
        .schedule-cell:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .time-slot {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .subject-math {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }
        .subject-english {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .subject-science {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        .subject-history {
            background: linear-gradient(135deg, #c3cfe2 0%, #c3cfe2 100%);
        }
        .subject-pe {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .subject-art {
            background: linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%);
        }
        .subject-music {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .subject-chinese {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        .course-item {
            cursor: grab;
            transition: all 0.2s ease;
        }
        .course-item:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        .course-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .drag-over {
            border-color: #3b82f6 !important;
            background-color: #dbeafe !important;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
   <nav style="padding: 10px; background-color: #f8f8f8; border-bottom: 1px solid #eee; display: flex; flex-wrap: wrap;">
    <a href="map.html" style="margin-right: 20px; text-decoration: none; color: #007bff; font-weight: bold; padding: 5px;">
        ğŸ—ºï¸ åœ°åœ–èˆ‡è·¯ç·š
    </a>
    <a href="mindmap.html" style="margin-right: 20px; text-decoration: none; color: #007bff; font-weight: bold; padding: 5px;">
        ğŸ§  éƒ¨ç½²å¿ƒæ™ºåœ–
    </a>
    <a href="taoteching.html" style="margin-right: 20px; text-decoration: none; color: #007bff; font-weight: bold; padding: 5px;">
        ğŸ“œ é“å¾·ç¶“å°ˆé 
    </a>
    <a href="school.html" style="text-decoration: none; color: #007bff; font-weight: bold; padding: 5px;">
        ğŸ—“ï¸ èª²è¡¨é é¢
    </a>
</nav>
    <div class="max-w-6xl mx-auto">
        <!-- æ¨™é¡Œ -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">ğŸ“ å±ç§‘å¤§èª²è¡¨</h1>
        </div>

        <!-- èª²ç¨‹ç·¨è¼¯å€ -->
        <div class="bg-white rounded-2xl shadow-xl p-6 mb-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4">ğŸ“ èª²ç¨‹ç·¨è¼¯</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">èª²ç¨‹åç¨±</label>
                    <input type="text" id="courseName" placeholder="ä¾‹ï¼šè¨ˆç®—æ©Ÿæ¦‚è«–" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æˆèª²è€å¸«</label>
                    <input type="text" id="teacherName" placeholder="ä¾‹ï¼šç‹æ•™æˆ" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ä¸Šèª²åœ°é»</label>
                    <input type="text" id="classroom" placeholder="ä¾‹ï¼šå·¥ç¨‹é¤¨101" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>
            <div class="flex gap-3">
                <button onclick="createCourse()" class="bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-2 rounded-lg hover:from-green-600 hover:to-blue-700 transition-all transform hover:scale-105">
                    â• å»ºç«‹èª²ç¨‹
                </button>
                <button onclick="saveSchedule()" class="bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-2 rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all transform hover:scale-105">
                    ğŸ’¾ ä¿å­˜èª²è¡¨
                </button>
                <button onclick="loadSchedule()" class="bg-gradient-to-r from-orange-500 to-red-600 text-white px-6 py-2 rounded-lg hover:from-orange-600 hover:to-red-700 transition-all transform hover:scale-105">
                    ğŸ“‚ è¼‰å…¥èª²è¡¨
                </button>
                <button onclick="clearAllSchedule()" class="bg-gradient-to-r from-gray-500 to-gray-600 text-white px-6 py-2 rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all transform hover:scale-105">
                    ğŸ—‘ï¸ æ¸…ç©ºèª²è¡¨
                </button>
            </div>
            
            <!-- å¯æ‹–æ›³çš„èª²ç¨‹åˆ—è¡¨ -->
            <div class="mt-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-3">ğŸ“š èª²ç¨‹åº« (æ‹–æ›³åˆ°èª²è¡¨ä¸­)</h3>
                <div id="courseBank" class="flex flex-wrap gap-3 min-h-[60px] p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300">
                    <div class="text-gray-500 text-sm">å»ºç«‹èª²ç¨‹å¾Œæœƒå‡ºç¾åœ¨é€™è£¡ï¼Œå¯æ‹–æ›³åˆ°èª²è¡¨ä¸­</div>
                </div>
            </div>
        </div>

        <!-- èª²è¡¨ä¸»é«” -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="grid grid-cols-6 gap-0">
                <!-- è¡¨é ­ -->
                <div class="time-slot text-white font-bold p-4 text-center">
                    <div class="text-sm">æ™‚é–“</div>
                </div>
                <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold p-4 text-center">
                    <div class="text-sm mb-1">æ˜ŸæœŸä¸€</div>
                    <div class="text-xs opacity-80">Monday</div>
                </div>
                <div class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-bold p-4 text-center">
                    <div class="text-sm mb-1">æ˜ŸæœŸäºŒ</div>
                    <div class="text-xs opacity-80">Tuesday</div>
                </div>
                <div class="bg-gradient-to-r from-green-500 to-teal-500 text-white font-bold p-4 text-center">
                    <div class="text-sm mb-1">æ˜ŸæœŸä¸‰</div>
                    <div class="text-xs opacity-80">Wednesday</div>
                </div>
                <div class="bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-bold p-4 text-center">
                    <div class="text-sm mb-1">æ˜ŸæœŸå››</div>
                    <div class="text-xs opacity-80">Thursday</div>
                </div>
                <div class="bg-gradient-to-r from-red-500 to-pink-500 text-white font-bold p-4 text-center">
                    <div class="text-sm mb-1">æ˜ŸæœŸäº”</div>
                    <div class="text-xs opacity-80">Friday</div>
                </div>

                <!-- ä¸Šåˆèª²ç¨‹ -->
                <!-- ç¬¬ä¸€ç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬ä¸€ç¯€</div>
                    <div class="text-sm">08:00-08:50</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="1" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="1" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="1" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="1" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="1" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- ç¬¬äºŒç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬äºŒç¯€</div>
                    <div class="text-sm">09:00-09:50</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="2" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="2" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="2" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="2" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="2" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- ç¬¬ä¸‰ç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬ä¸‰ç¯€</div>
                    <div class="text-sm">10:10-11:00</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="3" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="3" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="3" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="3" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="3" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- ç¬¬å››ç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬å››ç¯€</div>
                    <div class="text-sm">11:10-12:00</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="4" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="4" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="4" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="4" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="4" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- åˆä¼‘åˆ†éš” -->
                <div class="bg-yellow-200 p-3 text-center font-semibold text-yellow-800">
                    ğŸ½ï¸ åˆä¼‘
                </div>
                <div class="bg-yellow-100 p-3 text-center text-yellow-700 text-sm">12:00-13:30</div>
                <div class="bg-yellow-100 p-3 text-center text-yellow-700 text-sm">12:00-13:30</div>
                <div class="bg-yellow-100 p-3 text-center text-yellow-700 text-sm">12:00-13:30</div>
                <div class="bg-yellow-100 p-3 text-center text-yellow-700 text-sm">12:00-13:30</div>
                <div class="bg-yellow-100 p-3 text-center text-yellow-700 text-sm">12:00-13:30</div>

                <!-- ä¸‹åˆèª²ç¨‹ -->
                <!-- ç¬¬äº”ç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬äº”ç¯€</div>
                    <div class="text-sm">13:30-14:20</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="5" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="5" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="5" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="5" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="5" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- ç¬¬å…­ç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬å…­ç¯€</div>
                    <div class="text-sm">14:30-15:20</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="6" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="6" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="6" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="6" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="6" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- ç¬¬ä¸ƒç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬ä¸ƒç¯€</div>
                    <div class="text-sm">15:30-16:20</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="7" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="7" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="7" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="7" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="7" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>

                <!-- ç¬¬å…«ç¯€ -->
                <div class="time-slot text-white p-4 text-center font-semibold">
                    <div class="text-xs mb-1">ç¬¬å…«ç¯€</div>
                    <div class="text-sm">16:30-17:20</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="1" data-period="8" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="2" data-period="8" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="3" data-period="8" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="4" data-period="8" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
                <div class="schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors" data-day="5" data-period="8" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>
                </div>
            </div>
        </div>



        <!-- èª²ç¨‹è³‡è¨Šå½ˆçª— -->
        <div id="subjectModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-2xl p-8 max-w-md mx-4 transform transition-all">
                <div class="text-center">
                    <div class="text-3xl mb-4" id="subjectEmoji">ğŸ“š</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2" id="subjectName">ç§‘ç›®åç¨±</h3>
                    <p class="text-gray-600 mb-1">ğŸ‘¨â€ğŸ« æˆèª²è€å¸«ï¼š<span id="teacherName">è€å¸«å§“å</span></p>
                    <p class="text-gray-600 mb-6">ğŸ“ ä¸Šèª²åœ°é»ï¼š<span id="classroom">æ•™å®¤ä½ç½®</span></p>
                    <button onclick="closeModal()" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-full hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105">
                        é—œé–‰
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let courseIdCounter = 0;
        
        // å»ºç«‹èª²ç¨‹
        function createCourse() {
            const courseName = document.getElementById('courseName').value.trim();
            const teacherName = document.getElementById('teacherName').value.trim();
            const classroom = document.getElementById('classroom').value.trim();
            
            if (!courseName || !teacherName || !classroom) {
                alert('è«‹å¡«å¯«å®Œæ•´çš„èª²ç¨‹è³‡è¨Šï¼');
                return;
            }
            
            const courseBank = document.getElementById('courseBank');
            const placeholder = courseBank.querySelector('.text-gray-500');
            if (placeholder) {
                placeholder.remove();
            }
            
            const courseId = 'course-' + (++courseIdCounter);
            const courseItem = document.createElement('div');
            courseItem.className = 'course-item bg-gradient-to-r from-blue-500 to-purple-600 text-white p-3 rounded-lg shadow-md';
            courseItem.draggable = true;
            courseItem.id = courseId;
            courseItem.innerHTML = `
                <div class="font-bold text-sm">${courseName}</div>
                <div class="text-xs opacity-90">${teacherName}</div>
                <div class="text-xs opacity-80">${classroom}</div>
                <button onclick="removeCourse('${courseId}')" class="absolute top-1 right-1 text-white hover:text-red-300 text-xs">âœ•</button>
            `;
            courseItem.style.position = 'relative';
            
            // è¨­å®šæ‹–æ›³äº‹ä»¶
            courseItem.addEventListener('dragstart', function(e) {
                e.dataTransfer.setData('text/plain', JSON.stringify({
                    id: courseId,
                    name: courseName,
                    teacher: teacherName,
                    classroom: classroom
                }));
            });
            
            courseBank.appendChild(courseItem);
            
            // æ¸…ç©ºè¼¸å…¥æ¬„ä½
            document.getElementById('courseName').value = '';
            document.getElementById('teacherName').value = '';
            document.getElementById('classroom').value = '';
            
            // è‡ªå‹•ä¿å­˜èª²ç¨‹åº«
            autoSave();
        }
        
        // ç§»é™¤èª²ç¨‹
        function removeCourse(courseId) {
            const courseItem = document.getElementById(courseId);
            if (courseItem) {
                courseItem.remove();
            }
            
            // å¦‚æœèª²ç¨‹åº«ç©ºäº†ï¼Œé¡¯ç¤ºæç¤ºæ–‡å­—
            const courseBank = document.getElementById('courseBank');
            if (courseBank.children.length === 0) {
                courseBank.innerHTML = '<div class="text-gray-500 text-sm">å»ºç«‹èª²ç¨‹å¾Œæœƒå‡ºç¾åœ¨é€™è£¡ï¼Œå¯æ‹–æ›³åˆ°èª²è¡¨ä¸­</div>';
            }
        }
        
        // å…è¨±æ‹–æ”¾
        function allowDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.add('drag-over');
        }
        
        // æ‹–æ”¾è™•ç†
        function drop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('drag-over');
            
            const courseData = JSON.parse(e.dataTransfer.getData('text/plain'));
            const cell = e.currentTarget;
            
            // æ¸…ç©ºåŸæœ‰å…§å®¹
            cell.innerHTML = '';
            
            // æ ¹æ“šèª²ç¨‹åç¨±é¸æ“‡é¡è‰²
            const colorClass = getCourseColor(courseData.name);
            cell.className = `schedule-cell ${colorClass} p-4 text-center cursor-pointer`;
            
            // æ·»åŠ èª²ç¨‹å…§å®¹
            cell.innerHTML = `
                <div class="font-bold text-gray-800">${courseData.name}</div>
                <div class="text-xs text-gray-600 mt-1">${courseData.teacher}</div>
                <div class="text-xs text-gray-500">${courseData.classroom}</div>
                <button onclick="clearCell(this)" class="absolute top-1 right-1 text-red-500 hover:text-red-700 text-xs opacity-0 hover:opacity-100 transition-opacity">âœ•</button>
            `;
            cell.style.position = 'relative';
            
            // æ·»åŠ é»æ“Šäº‹ä»¶
            cell.onclick = function() {
                showSubjectInfo(courseData.name, courseData.teacher, courseData.classroom);
            };
            
            // ä¿å­˜èª²ç¨‹è³‡æ–™åˆ°æ ¼å­
            const day = cell.getAttribute('data-day');
            const period = cell.getAttribute('data-period');
            cell.setAttribute('data-course', JSON.stringify(courseData));
            
            // èª²ç¨‹åº«ä¿ç•™ï¼Œä¸ç§»é™¤åŸèª²ç¨‹é …ç›®
            autoSave();
        }
        
        // æ ¹æ“šèª²ç¨‹åç¨±ç²å–é¡è‰²é¡åˆ¥
        function getCourseColor(courseName) {
            const colorMap = {
                'è¨ˆç®—æ©Ÿæ¦‚è«–': 'subject-math',
                'è³‡æ–™çµæ§‹': 'subject-english', 
                'ç¨‹å¼è¨­è¨ˆ': 'subject-science',
                'è³‡æ–™åº«': 'subject-history',
                'ç¶²è·¯æ¦‚è«–': 'subject-pe',
                'ä½œæ¥­ç³»çµ±': 'subject-art',
                'è»Ÿé«”å·¥ç¨‹': 'subject-music',
                'æ¼”ç®—æ³•': 'subject-chinese',
                'äººå·¥æ™ºæ…§': 'subject-math',
                'æ©Ÿå™¨å­¸ç¿’': 'subject-english'
            };
            
            // å¦‚æœæ²’æœ‰é è¨­é¡è‰²ï¼Œæ ¹æ“šèª²ç¨‹åç¨±çš„ç¬¬ä¸€å€‹å­—å…ƒæ±ºå®šé¡è‰²
            if (colorMap[courseName]) {
                return colorMap[courseName];
            }
            
            const colors = ['subject-math', 'subject-english', 'subject-science', 'subject-history', 'subject-pe', 'subject-art', 'subject-music', 'subject-chinese'];
            const hash = courseName.charCodeAt(0) % colors.length;
            return colors[hash];
        }
        
        // æ¸…ç©ºèª²è¡¨æ ¼å­
        function clearCell(button) {
            const cell = button.parentElement;
            const day = cell.getAttribute('data-day');
            const period = cell.getAttribute('data-period');
            
            cell.innerHTML = '<div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>';
            cell.className = 'schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors';
            cell.onclick = null;
            cell.ondrop = drop;
            cell.ondragover = allowDrop;
            cell.removeAttribute('data-course');
            autoSave();
        }
        
        // è‡ªå‹•ä¿å­˜åˆ°ç€è¦½å™¨æœ¬åœ°å­˜å„²
        function autoSave() {
            const scheduleData = {};
            const courseBankData = [];
            
            // ä¿å­˜èª²è¡¨è³‡æ–™
            const scheduleCells = document.querySelectorAll('[data-day][data-period]');
            scheduleCells.forEach(cell => {
                const day = cell.getAttribute('data-day');
                const period = cell.getAttribute('data-period');
                const courseData = cell.getAttribute('data-course');
                
                if (courseData) {
                    scheduleData[`${day}-${period}`] = JSON.parse(courseData);
                }
            });
            
            // ä¿å­˜èª²ç¨‹åº«è³‡æ–™
            const courseItems = document.querySelectorAll('.course-item');
            courseItems.forEach(item => {
                const courseName = item.querySelector('.font-bold').textContent;
                const teacherName = item.querySelector('.text-xs.opacity-90').textContent;
                const classroom = item.querySelector('.text-xs.opacity-80').textContent;
                
                courseBankData.push({
                    name: courseName,
                    teacher: teacherName,
                    classroom: classroom
                });
            });
            
            const saveData = {
                schedule: scheduleData,
                courseBank: courseBankData,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('npustSchedule', JSON.stringify(saveData));
        }
        
        // ä¿å­˜èª²è¡¨åˆ°æª”æ¡ˆ
        function saveSchedule() {
            const scheduleData = {};
            const courseBankData = [];
            
            // ä¿å­˜èª²è¡¨è³‡æ–™
            const scheduleCells = document.querySelectorAll('[data-day][data-period]');
            scheduleCells.forEach(cell => {
                const day = cell.getAttribute('data-day');
                const period = cell.getAttribute('data-period');
                const courseData = cell.getAttribute('data-course');
                
                if (courseData) {
                    scheduleData[`${day}-${period}`] = JSON.parse(courseData);
                }
            });
            
            // ä¿å­˜èª²ç¨‹åº«è³‡æ–™
            const courseItems = document.querySelectorAll('.course-item');
            courseItems.forEach(item => {
                const courseName = item.querySelector('.font-bold').textContent;
                const teacherName = item.querySelector('.text-xs.opacity-90').textContent;
                const classroom = item.querySelector('.text-xs.opacity-80').textContent;
                
                courseBankData.push({
                    name: courseName,
                    teacher: teacherName,
                    classroom: classroom
                });
            });
            
            const saveData = {
                schedule: scheduleData,
                courseBank: courseBankData,
                timestamp: new Date().toISOString()
            };
            
            // å»ºç«‹ä¸‹è¼‰é€£çµ
            const dataStr = JSON.stringify(saveData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            // å»ºç«‹ä¸‹è¼‰å…ƒç´ 
            const downloadLink = document.createElement('a');
            downloadLink.href = url;
            downloadLink.download = `å±ç§‘å¤§èª²è¡¨_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
            
            // æ¸…ç†URL
            URL.revokeObjectURL(url);
            
            showMessage('èª²è¡¨å·²ä¸‹è¼‰åˆ°æ‚¨çš„é›»è…¦ï¼', 'success');
        }
        
        // è¼‰å…¥èª²è¡¨æª”æ¡ˆ
        function loadSchedule() {
            // å»ºç«‹æª”æ¡ˆè¼¸å…¥å…ƒç´ 
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = '.json';
            fileInput.style.display = 'none';
            
            fileInput.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        loadScheduleData(data);
                        showMessage('èª²è¡¨è¼‰å…¥æˆåŠŸï¼', 'success');
                    } catch (error) {
                        showMessage('æª”æ¡ˆæ ¼å¼éŒ¯èª¤ï¼Œè«‹é¸æ“‡æ­£ç¢ºçš„èª²è¡¨æª”æ¡ˆï¼', 'error');
                    }
                };
                reader.readAsText(file);
            };
            
            document.body.appendChild(fileInput);
            fileInput.click();
            document.body.removeChild(fileInput);
        }
        
        // è¼‰å…¥èª²è¡¨è³‡æ–™
        function loadScheduleData(data) {
            // æ¸…ç©ºç¾æœ‰èª²è¡¨
            clearAllSchedule(false);
            
            // è¼‰å…¥èª²ç¨‹åº«
            const courseBank = document.getElementById('courseBank');
            courseBank.innerHTML = '';
            
            data.courseBank.forEach(course => {
                const courseId = 'course-' + (++courseIdCounter);
                const courseItem = document.createElement('div');
                courseItem.className = 'course-item bg-gradient-to-r from-blue-500 to-purple-600 text-white p-3 rounded-lg shadow-md';
                courseItem.draggable = true;
                courseItem.id = courseId;
                courseItem.innerHTML = `
                    <div class="font-bold text-sm">${course.name}</div>
                    <div class="text-xs opacity-90">${course.teacher}</div>
                    <div class="text-xs opacity-80">${course.classroom}</div>
                    <button onclick="removeCourse('${courseId}')" class="absolute top-1 right-1 text-white hover:text-red-300 text-xs">âœ•</button>
                `;
                courseItem.style.position = 'relative';
                
                courseItem.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', JSON.stringify({
                        id: courseId,
                        name: course.name,
                        teacher: course.teacher,
                        classroom: course.classroom
                    }));
                });
                
                courseBank.appendChild(courseItem);
            });
            
            if (data.courseBank.length === 0) {
                courseBank.innerHTML = '<div class="text-gray-500 text-sm">å»ºç«‹èª²ç¨‹å¾Œæœƒå‡ºç¾åœ¨é€™è£¡ï¼Œå¯æ‹–æ›³åˆ°èª²è¡¨ä¸­</div>';
            }
            
            // è¼‰å…¥èª²è¡¨è³‡æ–™
            Object.keys(data.schedule).forEach(key => {
                const [day, period] = key.split('-');
                const courseData = data.schedule[key];
                const cell = document.querySelector(`[data-day="${day}"][data-period="${period}"]`);
                
                if (cell) {
                    cell.innerHTML = '';
                    const colorClass = getCourseColor(courseData.name);
                    cell.className = `schedule-cell ${colorClass} p-4 text-center cursor-pointer`;
                    cell.innerHTML = `
                        <div class="font-bold text-gray-800">${courseData.name}</div>
                        <div class="text-xs text-gray-600 mt-1">${courseData.teacher}</div>
                        <div class="text-xs text-gray-500">${courseData.classroom}</div>
                        <button onclick="clearCell(this)" class="absolute top-1 right-1 text-red-500 hover:text-red-700 text-xs opacity-0 hover:opacity-100 transition-opacity">âœ•</button>
                    `;
                    cell.style.position = 'relative';
                    cell.setAttribute('data-course', JSON.stringify(courseData));
                    
                    cell.onclick = function() {
                        showSubjectInfo(courseData.name, courseData.teacher, courseData.classroom);
                    };
                }
            });
        }
        
        // è‡ªå‹•è¼‰å…¥ç€è¦½å™¨æœ¬åœ°å­˜å„²çš„èª²è¡¨
        function autoLoadSchedule() {
            const savedData = localStorage.getItem('npustSchedule');
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    loadScheduleData(data);
                } catch (error) {
                    console.log('è‡ªå‹•è¼‰å…¥å¤±æ•—');
                }
            }
        }
        
        // æ¸…ç©ºæ‰€æœ‰èª²è¡¨
        function clearAllSchedule(showMsg = true) {
            const scheduleCells = document.querySelectorAll('[data-day][data-period]');
            scheduleCells.forEach(cell => {
                cell.innerHTML = '<div class="text-gray-400 text-sm">æ‹–æ›³èª²ç¨‹åˆ°é€™è£¡</div>';
                cell.className = 'schedule-cell bg-gray-100 p-4 text-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors';
                cell.onclick = null;
                cell.ondrop = drop;
                cell.ondragover = allowDrop;
                cell.removeAttribute('data-course');
            });
            
            if (showMsg) {
                autoSave();
                showMessage('èª²è¡¨å·²æ¸…ç©ºï¼', 'success');
            }
        }
        
        // é¡¯ç¤ºè¨Šæ¯
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 transition-all transform translate-x-full`;
            
            if (type === 'success') {
                messageDiv.className += ' bg-green-500 text-white';
            } else if (type === 'error') {
                messageDiv.className += ' bg-red-500 text-white';
            }
            
            messageDiv.textContent = message;
            document.body.appendChild(messageDiv);
            
            // å‹•ç•«é¡¯ç¤º
            setTimeout(() => {
                messageDiv.classList.remove('translate-x-full');
            }, 100);
            
            // 3ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
            setTimeout(() => {
                messageDiv.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                }, 300);
            }, 3000);
        }
        
        // é é¢è¼‰å…¥æ™‚è‡ªå‹•è¼‰å…¥èª²è¡¨
        window.addEventListener('load', function() {
            autoLoadSchedule();
        });
        
        // ç§»é™¤æ‹–æ”¾æ¨£å¼
        document.addEventListener('dragleave', function(e) {
            if (e.target.classList.contains('schedule-cell')) {
                e.target.classList.remove('drag-over');
            }
        });
        
        function showSubjectInfo(subject, teacher, room) {
            const modal = document.getElementById('subjectModal');
            const subjectName = document.getElementById('subjectName');
            const teacherName = document.getElementById('teacherName');
            const classroom = document.getElementById('classroom');
            const subjectEmoji = document.getElementById('subjectEmoji');
            
            // è¨­å®šç§‘ç›®è¡¨æƒ…ç¬¦è™Ÿ
            const emojiMap = {
                'è¨ˆç®—æ©Ÿæ¦‚è«–': 'ğŸ’»',
                'è³‡æ–™çµæ§‹': 'ğŸ—‚ï¸',
                'ç¨‹å¼è¨­è¨ˆ': 'ğŸ‘¨â€ğŸ’»',
                'è³‡æ–™åº«': 'ğŸ—„ï¸',
                'ç¶²è·¯æ¦‚è«–': 'ğŸŒ',
                'ä½œæ¥­ç³»çµ±': 'âš™ï¸',
                'è»Ÿé«”å·¥ç¨‹': 'ğŸ”§',
                'æ¼”ç®—æ³•': 'ğŸ§®',
                'äººå·¥æ™ºæ…§': 'ğŸ¤–',
                'æ©Ÿå™¨å­¸ç¿’': 'ğŸ§ '
            };
            
            subjectEmoji.textContent = emojiMap[subject] || 'ğŸ“š';
            subjectName.textContent = subject;
            teacherName.textContent = teacher;
            classroom.textContent = room;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
        
        function closeModal() {
            const modal = document.getElementById('subjectModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        // é»æ“ŠèƒŒæ™¯é—œé–‰å½ˆçª—
        document.getElementById('subjectModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // Enteréµå»ºç«‹èª²ç¨‹
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && (e.target.id === 'courseName' || e.target.id === 'teacherName' || e.target.id === 'classroom')) {
                createCourse();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9869032fa6f4b30a',t:'MTc1OTEyMzAyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
